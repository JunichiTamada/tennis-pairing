# 🎾 Tennis Pairing App v1.2.0

ローカルテニスグループ向けの **ダブルス組み合わせ自動生成ツール** です。  
1ラウンドごとにペアを変えながら、偏りを最小限に抑えた組み合わせを作成できます。

---

## 🆕 更新履歴

### v1.2.0（2025-10-21）
**一時メンバー登録機能（GUEST）を追加**

- その日だけ参加するゲストを登録してペアリングに含めることができます。  
- 登録したゲストは、ボタン右上の **×** で削除可能。  
- Undo（「直前操作を取り消す」）を使えば削除前の状態に戻せます。  
- GUESTバッジの表示および削除ボタンのデザインを調整。  
- ボタンラベルを「直前ラウンドを取り消す」→ **「直前操作を取り消す」** に変更。  

> ※ Undo は実用性を重視し、ラウンド生成だけでなく  
>   参加者追加・削除なども含めた「直前操作の取り消し」としています。

---

### v1.1.0（2025-10-18）
**Undo機能を追加**

- 「直前ラウンドを取り消す」ボタンで、  
  最新ラウンドを1回分取り消すことができます。  
- 「今日の状態を消去」で Undo 履歴も同時にリセット。

---

### v1.0.0（2025-10-12）
**初回正式版リリース**

- ランダム性と過去履歴を考慮したペア自動生成。  
- 同一ペア／同一対戦の重み付け設定。  
- 一時離脱（長押し・右クリック対応）。  
- 状態の自動保存・日付リセット対応。  
- 屋外モード（高輝度UI）。

---

## ⚙️ 主な機能

| 機能 | 説明 |
|------|------|
| 🔀 ペアリング生成 | 重み設定（同一ペア・同一対戦・直前類似）を考慮して最適化 |
| 💾 自動保存 | ブラウザの localStorage に保存（翌日自動リセット） |
| ☀️ 屋外モード | 屋外での視認性向上。トグルで切替可能 |
| 🚶 一時離脱 | スマホ：長押し、PC：右クリック |
| ⏪ Undo | 「直前操作を取り消す」で前の状態へ戻る |
| 🧍‍♂️ 一時メンバー登録（GUEST） | 当日限定のゲスト参加者を追加可能 |
| 🧹 今日の状態を消去 | 全データを初期化し、新しい日として再開 |

---

## 💡 操作方法

| 操作 | 動作 |
|------|------|
| タップ（クリック） | 参加者の選択／解除 |
| 長押し（スマホ） | 一時離脱（黄色表示） |
| 右クリック（PC） | 一時離脱（黄色表示） |
| ＋一時メンバー追加 | ゲスト登録（GUESTとして表示） |
| ×ボタン | ゲスト削除（Undoで復元可） |
| 次のペアを決める | 新しいラウンドを生成 |
| 直前操作を取り消す | 直前の状態に戻す（Undo） |
| 今日の状態を消去 | すべてリセット |

---

## 🧮 ペアリングロジック概要

- 各ラウンドごとに「候補となる4人の組み合わせ」を全探索。  
- 再ペア回避・同一対戦回避・直前類似のペナルティスコアを加算し、  
  最もスコアの低い組み合わせを採用。  
- 同スコアの候補が複数ある場合は、当日シード値に基づく乱数で決定。  
- 「AB vs CD → BA vs DC」の**反転禁止ルール**を常に適用。  

---

## 💾 データ保存について

- 状態（参加者・ラウンド・重み設定）はブラウザに自動保存されます。  
- 保存データは日付単位で管理され、翌日になると自動リセットされます。  
- 「今日の状態を消去」を押すと、保存データとUndo履歴も同時にクリアされます。

---

## ⚖️ ライセンス

MIT License  
Copyright © 2025 Junichi Tamada  

このアプリは非商用目的での利用を想定しており、  
限られた範囲での共有・運用を歓迎します。

---

## 🌐 デプロイ先

https://junichitamada.github.io/tennis-pairing/v1/

